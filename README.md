# GenericApp Template

Welcome to the GenericApp template.  This is the app used by the GenericApp gem as the basis for starting a brand new Rails app.
<br><br>
This template is based on the sample application for the [*Ruby on Rails Tutorial: Learn Web Development with Rails*](http://www.railstutorial.org/) by [Michael Hartl](http://www.michaelhartl.com/).
<br><br>
Like the Rails Tutorial Sample App, the GenericApp template includes Minitest, Guard, static pages, and Twitter bootstrap styling.  User validations for the name, email address format,
and uniqueness are also included. Unlike the Rails Tutorial Sample App, the GenericApp template uses the well-established [devise gem](https://github.com/plataformatec/devise) to provide authentication for users and admins.
<br><br>
The GenericApp template includes Bash scripts in the root directory.  These scripts allow you to perform routine tasks in only one simple step.  To execute the Bash (*.sh) scripts, enter the command "sh (name of script)". The Bash scripts provided are:

*  test_app.sh: This command sets up and tests this Rails app.  When you first clone this repository to a machine with a fresh Ruby on Rails installation, all tests should proceed as expected.  If all goes well, your app will pass all tests.  Please note that this script does NOT run code checking programs.
*  test_code.sh: This command runs each of the installed code checking programs - brakeman, rubocop, sandi_meter, rails_best_practices, bundle-audit, and metric_fu.
*  server.sh: This script runs your local Rails server. Note that it specifies port 0.0.0.0 so that you can view your Rails app in your web browser when you do your Rails development in Vagrant.
*  seed.sh: This script populates the database with simulated data.
*  sandbox.sh: This script gives you the Rails console sandbox environment.
*  heroku_upload.sh: This script uploads your Rails source code to Heroku AND runs the "rake db:migrate" command in the Heroku environment.
*  kill_spring.sh: The Spring tool is useful but may occasionally slow down your Rails app. If you believe that this is happening, or if you're getting Spring-related errors, run this script to kill the Spring tool.
*  list_files.sh: This script prints outlines of the path structure of the MVC and testing architectures in your Rails app into the file notes/1-list_files.txt. While this script has no impact on how your Rails app runs, it aids the process of outlining the MVC structure and the testing procedure in your app.
*  mailcatcher.sh: This script installs the mailcatcher gem and boots up the mailcatcher server on port 1080.  This allows you to view the email messages generated by your Rails app in your development environment.
*  admin-create.sh: This script walks you through the process of creating an admin.
*  setup-pg.sh: This script sets up your Rails app to use the PostgreSQL database in development.  This is also the script to use to change your PostgreSQL database name, username, and password.  The trade-off between security and convenience is now a thing of the past.
*  test-pg.sh: This script is used in the process of developing the GenericApp template and should not be necessary for downstream apps.  This script tests the PostgreSQL setup procedure.

<br>
Security features include:

*  The setup-pg.sh script that sets up your PostgreSQL parameters also excludes your username and password from the Git repository.
*  The bundler-audit and guard-bundler-audit gems check your Gemfile.lock file for vulnerable versions of Ruby gems during the testing process.
*  Users and admins are advised to use password management software to generate and save good, secure passwords.
*  The admin list, user list, and admin profiles visible ONLY to the admins.
*  A given user profile is visible ONLY to that particular user and to the admins.

<br>
Other features included are:

*  Unit, functional, and Capybara integration tests for all features provided by the GenericApp template
*  Guard for automated testing: The tests automatically run upon startup.
*  Databases: The GenericApp template is set up to use SQLite3 for development.  However,  and PostgreSQL for production PLUS a script that automates the process of setting PostgreSQL parameters AND excluding your username and password from the Git repository 
*  Ready for Heroku deployment
*  Outlines of the MVC architecture, test suite, and database seeding process in the notes folder
